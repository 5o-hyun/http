## HTTP헤더
HTTP 전송에 필요한 부가정보

### 표현헤더
수 많은 헤더 중 HTTP BODY를 설명하는 헤더들을 표현 헤더라 칭한다.
- Content Type : 표현데이터의 형식
- Content Encoding : 표현데이터의 압축방식
- Content Language : 표현데이터의 언어
- Content Length : 표현데이터의 길이

### 협상
클라이언트가 선호하는 표현요청
- 협상 헤더는 요청시에만 사용
- Accept Charset : 클라이언트가 선호하는 인코딩
- Accept Encoding : 클라이언트가 선호하는 압축 인코딩
- Accept Language : 클라이언트가 선호하는 언어

**협상과 우선순위**
1. Quality value사용 : 0-1중 1일때 가장 높다.
2. 구체적인것이 우선이다.
3. 구체적인것을 기준으로 미디어타입을 맞춘다.

### 전송방식
- 단순전송 : 단순하게 요청하고 전송
- 압축전송 : 서버에서 압축 후 전송, Content-Encoding필수
- 분할전송 : 지정한 바이트로 분할해서 전송, Transfer-Encoding: chunked
- 범위전송 : 지정된 특수범위로 전송, Content-Range

### 헤더정보
- Form : 유저 에이전트의 이메일정보 (요청)
- Referer : 이전 웹 페이지 주소 (요청)
- User-Agent : 클라이언트의 웹 브라우저 정보 (요청)
- Server : 요청을 처리하는 오리진 서버의 소프트웨어 정보 (응답)
- Date : 메시지가 생성된 날짜 (응답)
- Host : 요청한 호스트 정보 (도메인) (요청)
- Location : 페이지 리다이렉션
- Allow : 허용가능한 HTTP메서드
- Retry-After : 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간
- Authorization : 클라이언트 인증 접오를 서버에 전달
- WWW-Authenticate : 리소스 접근시 필요한 인증 방법 정의

### 쿠키
- Set-Cookie : 서버에서 클라이언트로 쿠키 전달
- Cookie : 클라이언트가 서버에서 받은 쿠키를 저장하고, HTTP 요청시 서버로 전달
- 쿠키 정보는 항상 서버에 전송된다.
  - 따라서 최소한의 정보만 사용한다.(세션id, 인증토큰)
  - 서버에 전송하지않고 웹브라우저 내부에 데이터를 저장하고 싶으면 웹 스토리지 사용
```bash
Stateless

HTTP는 무상태 프로토콜이다.
클라이언트와 서버가 요청,응답을 주고받으면 연결이 끊어진다. 
따하서 Set-Cookie,Cookie로 쿠키를 쿠키저장소에 넣어놓고 웹서버에 요청을 보낼때마다 쿠키값을 무조건 꺼내서 보낸다. 
모든 요청에 쿠키가 자동 포함된다.
```

#### 쿠키 - 도메인
명시 : 명시한 문서 기준 도메인 + 서브 도메인 포함(dev)
생략 : 현재 문서 기준 도메인만 적용 

#### 쿠키 - 경로
이 경로를 포함한 하위 경로 페이지만 쿠키가 접근할 수 있다.
일반적으로 path=/루트로 지정

#### 쿠키 - 보안
- Secure : 쿠키는 http,https를 구분하지 않고 전송하는데 Secure을 적용하면 https인 경우에만 전송
- HTTP ONLY : 오직 HTTP전송에만 사용,  XSS 공격 방지
- SameSite : 요청도메인과 쿠키에 설정된 도메인이 같은 경우에만 쿠키전송, XSRF 공격방지

```bash
정리.
HTTP헤더는 HTTP 전송에 필요한 모든 부가정보를 포함한다. 
그중에서도 표현헤더는 http body의 정보를 설명하는 헤더를 표현헤더라고한다.

HTTP/1.1 200 OK 
Content-Type: text/html; charset=UTF-8 // 표현데이터 형식
Content-Encoding: gzip // 표현데이터 압축방식 
Content-Language: en // 표현데이터 언어 
Content-Length:10 // 표현데이터 본문 길이

클라이언트에서 요청시 받고싶은 우선순위를 정할수있다.
우선순위는 퀀티티밸류가 0-1까지있는데 1이 높은우선순위다. 한국어 1 영어 0.9로 요청하고 서버는 기본어:독일어 영어가 있다고 했을때, 우선순위에따라 영어로 반환해준다.
또한 구체적으로 적을수록 우선순위가 높아진다.
서버에서 클라이언트한테 전송할때 방식이 4가지가있다. 단순전송은 서버에사 클라이언트에게 단순하게 전송해주는거고, 압축전송은 압축해서 보내주는것 content-encoding필수, 분할전송은 바이트형식으로 분할한다 transfer-encoding:chunked, 범위전송은 content-range 

쿠키는 항상 서버에 전송된다. 따라서 최소한의 자원만 사용해야하고 (세션id, 인증토큰) 만약에 서버에 쿠키를 전송하기싫고 웹브라우저내에서만 보유하고싶으면 local srorage를 이용하면된다. 
쿠키는 경로를 설정할수있다. path=/로 하면 하위 폴더내에는 다 접근이 가능하다. 
쿠키는 도메인을 설정할수있다. 명시: 기존도메인+dev도메인 생략: 현재도메인
쿠키의보안으로는 https만사용할수있고 오직 http에서만 사용할수있고 현재도메인과 쿠키도메인이 같을때만 쿠키를 전송할수있다.
```
